{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/index.css' %}" />
{% endblock %}
{% block template_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
{% endblock %}
{% block script1 %}
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="/static/js/main.js"></script>
{% endblock %}

{% block title %}
  í• ë˜ë§ë˜
{% endblock %}
{% block contents %}
 <main class="main">
    <!-- í…œí”Œë¦¿ ìŠ¤íƒ€ì¼ ë©”ì¸ ë°°ë„ˆ (Swiper) -->
  <section class="template-main-banner">
    <div class="swiper-container template-main-swiper">
      <ul class="swiper-wrapper">

        {% for b in banners %}
        <li class="swiper-slide" style="background-image: url('/media/{{ b.url }}'); background-size: cover; background-position: center;">
          <div class="banner-txt-box">
            <p class="move-txt01">{{ b.title }}</p>
            <p class="move-txt02">{{ b.context }}</p>
            <div class="swiper-pager"></div>
            <p class="scroll">Scroll Down</p>
          </div>
        </li>
        {% endfor %}

        {% if banners|length == 0 %}
        <li class="swiper-slide">
          <div class="banner-txt-box">
            <p class="move-txt01">ë“±ë¡ëœ ë°°ë„ˆê°€ ì—†ìŠµë‹ˆë‹¤</p>
            <p class="move-txt02">ê´€ë¦¬ìì—ì„œ ë°°ë„ˆë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”</p>
            <div class="swiper-pager"></div>
            <p class="scroll">Scroll Down</p>
          </div>
        </li>
        {% endif %}

      </ul>
    </div>
  </section>

    <!-- í…œí”Œë¦¿ ì„¹ì…˜ 01: ì†Œê°œ -->
    <section class="template-section-01 reveal">
      <div class="inner1">
        <!-- ë‚ ì”¨ ì• ë‹ˆë©”ì´ì…˜ SVG -->
        <div class="weather-animation">
          <svg class="weather-cloud" viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg">
            <path class="cloud-path" d="M50,70 Q30,50 50,40 Q50,20 70,20 Q90,10 110,20 Q130,10 150,20 Q170,20 170,40 Q190,40 190,60 Q210,60 190,80 Q190,100 170,100 L50,100 Q30,100 30,80 Q10,80 30,70 Z" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
            <path class="cloud-open-left" d="M50,80 L30,80" stroke="rgba(255,255,255,0.3)" stroke-width="2" stroke-dasharray="200" stroke-dashoffset="200"/>
            <path class="cloud-open-right" d="M170,80 L150,80" stroke="rgba(255,255,255,0.3)" stroke-width="2" stroke-dasharray="200" stroke-dashoffset="200"/>
          </svg>
          <svg class="weather-rain" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <line class="rain-line rain-line-1" x1="40" y1="0" x2="35" y2="200" stroke="rgba(135,206,250,0.6)" stroke-width="2" stroke-linecap="round"/>
            <line class="rain-line rain-line-2" x1="80" y1="0" x2="75" y2="200" stroke="rgba(135,206,250,0.6)" stroke-width="2" stroke-linecap="round"/>
            <line class="rain-line rain-line-3" x1="120" y1="0" x2="115" y2="200" stroke="rgba(135,206,250,0.6)" stroke-width="2" stroke-linecap="round"/>
            <line class="rain-line rain-line-4" x1="160" y1="0" x2="155" y2="200" stroke="rgba(135,206,250,0.6)" stroke-width="2" stroke-linecap="round"/>
            <line class="rain-line rain-line-5" x1="60" y1="0" x2="55" y2="200" stroke="rgba(135,206,250,0.5)" stroke-width="2" stroke-linecap="round"/>
            <line class="rain-line rain-line-6" x1="100" y1="0" x2="95" y2="200" stroke="rgba(135,206,250,0.5)" stroke-width="2" stroke-linecap="round"/>
            <line class="rain-line rain-line-7" x1="140" y1="0" x2="135" y2="200" stroke="rgba(135,206,250,0.5)" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <div class="weather-lightning"></div>
        </div>
        <div class="widget widget--today">
          <h2>ì˜¤ëŠ˜ì˜ ë‚ ì”¨</h2>
          <div class="weather-info" id="weatherInfo">
            <div class="weather-loading">ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
          </div>
        </div>
      </div>
      <div class="inner2">
        <p class="tit">í• ë˜ë§ë˜<br><b>ìŠ¤í¬ì¸  ì‹œì„¤ ì˜ˆì•½ í”Œë«í¼</b></p>
        <p class="txt">í• ë˜ë§ë˜ëŠ” ë‹¤ì–‘í•œ ìŠ¤í¬ì¸  ì‹œì„¤ì„ ì‰½ê³  ë¹ ë¥´ê²Œ ì˜ˆì•½í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.<br>
           ê°„í¸í•œ ì˜¨ë¼ì¸ ì˜ˆì•½, ì‹¤ì‹œê°„ ì˜ˆì•½ í˜„í™©, ì•ˆì „í•œ ê²°ì œ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.</p>
        <div class="more"><a href="/facility/">MORE VIEW</a></div>
      </div>
      <a class="btn" href="/reservation">ì˜ˆì•½í•˜ê¸°</a>
    </section>

    <!-- í…œí”Œë¦¿ ì„¹ì…˜: ëœë¤ ì‹œì„¤ ìœ„ì ¯ -->
    <section class="template-section-facilities reveal">
      <div class="facilities-container">
        <h2 class="facilities-title">ì¶”ì²œ ì‹œì„¤</h2>
        <ul class="facilities-list" id="randomFacilitiesList">
          {% if random_facilities %}
            {% for facility in random_facilities %}
            <li class="facility-item">
              <a href="/facility/detail/{{ facility.faci_id }}" class="facility-link">
                <span class="facility-name">{{ facility.name }}</span>
                <span class="facility-address">{{ facility.address }}</span>
                <span class="facility-description">{{ facility.description }}</span>
              </a>
            </li>
            {% endfor %}
          {% else %}
            <li class="facility-item">ë“±ë¡ëœ ì‹œì„¤ì´ ì—†ìŠµë‹ˆë‹¤.</li>
          {% endif %}
        </ul>
      </div>
    </section>

    <!-- í…œí”Œë¦¿ ì„¹ì…˜ 02: ì•„ì´ì½˜ ì¹´ë“œ (4ê°œ) -->
    <section class="template-section-02 reveal">
      <ul>
        <li><a href="/facility">
          <div class="icon">ğŸ‹ï¸</div>
          <span>ì‹œì„¤ ì•ˆë‚´</span>
          <p>ë‹¤ì–‘í•œ ìŠ¤í¬ì¸  ì‹œì„¤ì„<br>í™•ì¸í•˜ì„¸ìš”</p>
        </a></li>
        <li><a href="/recruitment">
          <div class="icon">ğŸ‘¥</div>
          <span>ëª¨ì§‘í• ë˜</span>
          <p>í•¨ê»˜ ì¦ê¸¸ ì‚¬ëŒì„<br>ì°¾ì•„ë³´ì„¸ìš”</p>
        </a></li>
        <li><a href="/reservation">
          <div class="icon">ğŸ“…</div>
          <span>ì˜ˆì•½í• ë˜</span>
          <p>ì›í•˜ëŠ” ì‹œì„¤ì„<br>ì˜ˆì•½í•˜ì„¸ìš”</p>
        </a></li>
        <li><a href="/board/notice">
          <div class="icon">ğŸ“¢</div>
          <span>ì •ë³´ì•Œë˜</span>
          <p>ê³µì§€ì‚¬í•­ê³¼ ì´ë²¤íŠ¸ë¥¼<br>í™•ì¸í•˜ì„¸ìš”</p>
        </a></li>
      </ul>
    </section>



  </main>

  <script>
  $(document).ready(function(){
    // ë°°ë„ˆ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜
    $('.template-main-banner .move-txt01').delay(200).animate({"margin-top":"0","opacity":"1"},600);
    $('.template-main-banner .move-txt02').delay(600).animate({"opacity":"1"},600);
    $('.template-main-banner .swiper-pager').delay(600).animate({"opacity":"1"},600);
    $('.template-main-banner .scroll').delay(1000).animate({"opacity":"1"},600);
    
    // Swiper ì´ˆê¸°í™”
    var swiper = new Swiper(".template-main-swiper", {
      effect: "fade",
      fadeEffect: { crossFade: true },
      loop: true,
      speed: 1000,
      autoplay: {
        delay: 3500,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pager",
        bulletActiveClass: 'on',
        clickable: true,
        renderBullet: function (index, className) {
          return '<span class="' + className + '"></span>';
        },
      },
    });
    swiper.on('slideChangeTransitionStart', function () {
        // ëª¨ë“  ìŠ¬ë¼ì´ë“œ í…ìŠ¤íŠ¸ ì´ˆê¸°í™” (CSSì™€ ë™ì¼í•˜ê²Œ!)
        $('.move-txt01').css({opacity:0, marginTop:'-25px'});
        $('.move-txt02').css({opacity:0});

        var active = $('.swiper-slide-active');

        var t1 = active.find('.move-txt01');
        var t2 = active.find('.move-txt02');

        t1.animate({opacity:1, marginTop:'0px'}, 600);
        t2.delay(200).animate({opacity:1}, 600);
    });
  });
  </script>
{% endblock %}