{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/facility_list.css' %}" />
{% endblock %}


{% block title %}
ëª¨ì§‘í• ë˜ - í• ë˜ë§ë˜
{% endblock %}

{% block contents %}

<!-- í˜ì´ì§€ ì œëª© -->
<div class="page-title-section">
    <h2 class="page-title">ì‹œì„¤ ëª©ë¡</h2>
</div>


<!-- ì„œë¸Œ ì»¨í…Œì´ë„ˆ -->
<div class="sub-container">

    <div class="sub-content">

        <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
        <section class="search-section">
            <div class="search-controls">
                <!-- ì‹œ/ë„ ì„ íƒ -->
                <select id="sido" class="search-dropdown">
                    <option value="">ì‹œ/ë„ ì„ íƒ</option>
                </select>

                <!-- êµ¬/êµ° ì„ íƒ -->
                <select id="sigungu" class="search-dropdown">
                    <option value="">êµ¬/êµ° ì„ íƒ</option>
                </select>

            </div>
            <div class="search-input-group">
                <input type="text" class="search-input" id="searchKeyword" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                <button type="button" class="search-btn" id="searchBtn">
                    <span>ğŸ”</span> ê²€ìƒ‰
                </button>
            </div>
        </section>

        <section class="search-list-section">
            ì´ {{ merged_count }} ê°œ
            <hr class="dividing-line">
            <div class="facility-list" id="facilityList">
               <ul>
                    {% for item in page_obj %}
                    <li class="facility-item">
                        <span class="facility-order">{{ forloop.counter }}</span>
                        <span class="facility-title"><a href="detail/{{ item.id }}">{{ item.name }}</a></span>
                        <span class="facility-meta">
                            <span class="facility-views"> {{ item.phone }}</span>
                        </span>
                    </li>
                    {% endfor %}
                </ul> 
            </div>

        </section>

        <div class="pagination">

            <!-- ğŸ”¹ ì´ì „ ë¸”ë¡ -->
            {% if block_start > 1 %}
            <a href="?page={{ block_start|add:-1 }}&per_page={{ per_page }}" class="page-btn arrow">â—€ ì´ì „</a>
            {% else %}
            <span class="page-btn arrow disabled">â—€ ì´ì „</span>
            {% endif %}

            <!-- ğŸ”¹ í˜ì´ì§€ ë²ˆí˜¸ 5ê°œì”© ë¸”ë¡ -->
            {% for num in block_range %}
            {% if num == page_obj.number %}
            <span class="page-btn active">{{ num }}</span>
            {% else %}
            <a href="?page={{ num }}&per_page={{ per_page }}" class="page-btn">{{ num }}</a>
            {% endif %}
            {% endfor %}

            <!-- ğŸ”¹ ë‹¤ìŒ ë¸”ë¡ -->
            {% if block_end < paginator.num_pages %} <a href="?page={{ block_end|add:1 }}&per_page={{ per_page }}"
                class="page-btn arrow">ë‹¤ìŒ â–¶</a>
                {% else %}
                <span class="page-btn arrow disabled">ë‹¤ìŒ â–¶</span>
                {% endif %}

        </div>


    </div>
</div>


{% block script3 %}
<script src="{% static 'js/facility_list.js' %}"></script>
{% endblock %}

{% endblock %}