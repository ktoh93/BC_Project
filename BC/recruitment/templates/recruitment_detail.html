{% extends 'base.html' %}

{% load static %}

{% block title %}
할래말래 - 모집글 작성
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/recruitment_detail.css' %}" />
{% endblock %}

{% block script1 %}
<script src="{% static 'js/recruitment_detail.js' %}"></script>
{% endblock %}


{% block contents %}
<!-- 페이지 제목 -->


<div class="sub-container">
<div class="sub-content">
<div class="page-title-section">
<h2 class="page-title">{{ recruit.title }}</h2>
</div>
<br>
<div class="form-wrapper">
<!-- 모집글 상세 -->
<section class="recruit-detail">

  <!-- 상단: 제목 + 메타 뱃지 -->
  <div class="detail-header">
    <!-- <h3 class="detail-title">{{ recruit.title }}</h3> -->

    <div class="detail-meta">
      <span class="detail-badge">모집지역 : {{ recruit.sido }} {{ recruit.sigungu }}</span>
      <span class="detail-badge">운동 : {{ recruit.sport }}</span>
      <span class="detail-badge">모집 : {{ recruit.personnel }}명</span>
      {% if recruit.facility_name %}
        <span class="detail-badge">시설 {{ recruit.facility_name }}</span>
      {% endif %}
    </div>
  </div>

  <!-- 본문 정보 그리드 -->
  <div class="detail-grid">
    <div class="detail-row">
      <div class="detail-label">시설</div>
      <div class="detail-value">{{ recruit.facility_name }}</div>
    </div>

    <div class="detail-row detail-row-content">
      <div class="detail-label">내용</div>
      <div class="detail-value detail-content">{{ recruit.content|linebreaksbr }}
      </div>
    </div>

    <div class="detail-row">
      <div class="detail-label">오픈카톡</div>
      <div class="detail-value">
        {% if recruit.openchat_url %}
          <a href="{{ recruit.openchat_url }}" target="_blank" class="detail-link">
            {{ recruit.openchat_url }}
          </a>
        {% else %}
          등록된 오픈카톡 링크가 없습니다.
        {% endif %}
      </div>
    </div>
  </div>

</section>

    <!-- 7. 버튼 -->
    <div class="btn-row">
        <button class="btn btn-update">수정</button>
        <button class="btn btn-list">목록</button>
    </div>


    <!-- 댓글 섹션 -->
    <section class="comment-section">
        <h3 class="section-title">댓글</h3>

        <!-- 댓글 리스트 -->
        <ul class="comment-list">
            {% for c in comments %}
                <li class="comment-item">
                    <div class="comment-meta">
                        <span class="comment-writer">{{ c.writer_name }}</span>
                        <span class="comment-date">
                            {{ c.created_at|date:"Y-m-d H:i" }}
                        </span>
                    </div>
                    <p class="comment-content">{{ c.content|linebreaksbr }}</p>
                </li>
            {% empty %}
                <li class="comment-empty">아직 등록된 댓글이 없습니다.</li>
            {% endfor %}
        </ul>

        <!-- 댓글 입력 폼 -->
        <form method="post" class="comment-form">
            {% csrf_token %}
            <label for="comment" class="form-label">댓글 쓰기</label>
            <textarea id="comment" name="content"
                    class="form-textarea" rows="3" required></textarea>

            <div class="comment-btn-box">
                <button type="submit" class="btn-primary">등록</button>
            </div>
        </form>
    </section>


</div>
</div>
</div>
{% endblock %}