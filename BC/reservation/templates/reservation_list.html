{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/reservation_list.css' %}" />
{% endblock %}


{% block title %}
ì˜ˆì•½í• ë˜ - í• ë˜ë§ë˜
{% endblock %}

{% block script1 %}
<script src="{% static 'js/reservation_list.js' %}"></script>
{% endblock %}

{% block contents %}

<!-- Hero ì„¹ì…˜ -->
<div class="board-hero reservation-hero reveal">
  <h2>ì˜ˆì•½í• ë˜</h2>
</div>


<!-- ì„œë¸Œ ì»¨í…Œì´ë„ˆ -->
<div class="sub-container page-reservation reveal">

  <div class="sub-content">
    <form method="GET" id="searchForm" action="{% url 'reservation_list' %}">
      <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
      <section class="search-section">
        <!-- ì¢…ëª© ì„ íƒ -->
        <div class="filter-group">
          <label class="filter-label">ì¢…ëª©</label>
          <div class="filter-options" id="sportOptions">
            <label class="filter-radio">
              <input type="radio" name="sport" value="" checked >
              <span>ì „ì²´</span>
            </label>
            {% for s in sportsList %}
            <label class="filter-radio">
              <input type="radio" name="sport" value="{{ s.sName }}" {% if sport == s.sName %} checked {% endif %}>
              <span>{{ s.sName }}</span>
            </label>
            {% endfor %}
          </div>
        </div>
        <hr class="dividing-line">
        <div class="search-row">
          <div class="region-group">
            <select id="sido" name="sido" class="search-dropdown">
              <option value="">ì‹œ/ë„ ì„ íƒ</option>
            </select>

            <select id="sigungu" name="sigungu" class="search-dropdown">
              <option value="">êµ¬/êµ° ì„ íƒ</option>
            </select>
          </div>

          <div class="search-inline-group">
            <input type="text" class="search-input keyword-input" id="searchKeyword" name="keyword"
              placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            <button type="button" class="search-btn" id="searchBtn">ğŸ” ê²€ìƒ‰</button>
          </div>
        </div>
      </section>
    </form>

    <section class="search-list-section">

      <div class="sort-page-container">

        <!-- ì •ë ¬ ì„ íƒ -->
        <select class="search-dropdown" id="sortSelect">
          <option value="title">ì œëª©ìˆœ</option>
          <option value="views">ì¡°íšŒìˆ˜ìˆœ</option>
          <option value="distance">ê±°ë¦¬ìˆœ</option>
          <option value="rating">ë³„ì ìˆœ</option>
        </select>

        <!-- <h3 class="section-title">ëª¨ì§‘ê¸€ ë¦¬ìŠ¤íŠ¸</h3> -->
        <!-- ê¸°ì¡´ í˜ì´ì§€ë‹¹ ê°œìˆ˜ ì„ íƒ -->
        <div class="page-selector">
          <select class="search-dropdown" id="perPageSelect">
            <option value="15">15ê°œ</option>
            <option value="30">30ê°œ</option>
            <option value="50">50ê°œ</option>
            <option value="100">100ê°œ</option>
          </select>
        </div>
      </div>
      <hr class="dividing-line">
      <div class="facility-list reservation-list" id="facilityList">

        <!-- í—¤ë” -->
        <div class="facility-header">
          <span class="facility-sido">ì‹œ/ë„</span>
          <span class="facility-sigungu">êµ¬/êµ°</span>
          <span class="facility-title">ì‹œì„¤ëª…</span>
          <span class="facility-views">ì¡°íšŒìˆ˜</span>
        </div>



        <!-- ë‚´ìš© -->
        <ul>
          {% for item in page_obj %}
          <li class="facility-item">
            <!-- <span class="facility-order">{{ forloop.counter0|add:page_obj.start_index }}</span> -->
            <span class="facility-sido">{{ item.sido }}</span>
            <span class="facility-sigungu">
              {{ item.sigungu }}
            </span>
            <span class="facility-title">
              <a href="{% url 'reservation_detail' item.id %}">{{ item.name }}</a>
            </span>
            <span class="facility-views">{{ item.viewCnt }}</span>
            </span>
          </li>
          {% empty %}
          <li class="facility-empty">ë“±ë¡ëœ ì‹œì„¤ì´ ì—†ìŠµë‹ˆë‹¤.</li>
          {% endfor %}
        </ul>
      </div>

    </section>




    <div class="pagination">

      <!-- ğŸ”¹ ì´ì „ ë¸”ë¡ -->
      {% if block_start > 1 %}
      <a href="?page={{ block_start|add:-1 }}&per_page={{ per_page }}&sort={{ sort }}" class="page-btn arrow">â—€ ì´ì „</a>
      {% else %}
      <span class="page-btn arrow disabled">â—€ ì´ì „</span>
      {% endif %}

      <!-- ğŸ”¹ í˜ì´ì§€ ë²ˆí˜¸ 5ê°œì”© ë¸”ë¡ -->
      {% for num in block_range %}
      {% if num == page_obj.number %}
      <span class="page-btn active">{{ num }}</span>
      {% else %}
      <a href="?page={{ num }}&per_page={{ per_page }}&sort={{ sort }}" class="page-btn">{{ num }}</a>
      {% endif %}
      {% endfor %}

      <!-- ğŸ”¹ ë‹¤ìŒ ë¸”ë¡ -->
      {% if block_end < paginator.num_pages %} <a
        href="?page={{ block_end|add:1 }}&per_page={{ per_page }}&sort={{ sort }}" class="page-btn arrow">ë‹¤ìŒ â–¶</a>
        {% else %}
        <span class="page-btn arrow disabled">ë‹¤ìŒ â–¶</span>
        {% endif %}

    </div>


  </div>
</div>




{% endblock %}